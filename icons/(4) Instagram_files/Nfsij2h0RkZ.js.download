;/*FB_PKG_DELIM*/

__d("BaseBlurryImagePreview.react",["getComputedStyle","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h=["blur","previewData","alt","height","style","width"],i,j,k=j||(j=d("react"));b=j;var l=b.useId,m=b.useLayoutEffect,n=b.useRef,o=b.useState;function a(a){var b=a.blur,d=a.previewData,e=a.alt,f=a.height,g=a.style,j=a.width;a=babelHelpers.objectWithoutPropertiesLoose(a,h);var p=g!=null?g:{},q=p.height,r=p.width;p=b!=null?b:1.2;b=l();var s=c("useSetAttributeRef")("id",b),t="url(#"+b+")",u=c("useSetAttributeRef")("filter",t),v=l(),w=n(null),x=o(f!==void 0||q!==void 0||j!==void 0||r!==void 0),y=x[0],z=x[1];m(function(){var a=w.current;if(!(a instanceof SVGSVGElement))return;if(f!==void 0||q!==void 0||j!==void 0||r!==void 0){z(!0);return}var b=a.style.display,e=(i||(i=c("getComputedStyle")))(a);a.style.display="none";z(e!=null&&(e.height!==d.height+"px"||e.width!==d.width+"px"));a.style.display=b},[f,d.height,d.width,q,r,j]);return k.jsxs("svg",babelHelpers["extends"]({},a,{"aria-labelledby":e!=null?v:null,height:f!=null?f:y?void 0:d.height,preserveAspectRatio:"none",ref:w,role:"img",style:g,viewBox:"0 0 "+d.width+" "+d.height,width:j!=null?j:y?void 0:d.width,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[e!=null&&k.jsx("title",{id:v,children:e}),k.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",id:b,ref:s,suppressHydrationWarning:!0,children:[k.jsx("feGaussianBlur",{edgeMode:"duplicate",stdDeviation:p}),k.jsx("feComponentTransfer",{children:k.jsx("feFuncA",{tableValues:"1 1",type:"discrete"})})]}),k.jsx("image",{filter:t,height:d.height,ref:u,suppressHydrationWarning:!0,width:d.width,x:"0",xlinkHref:d.dataURI,y:"0"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisStoriesV3AdLoggingContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({adId:"",gapToLastAd:-1,trackingToken:"",videoLoggerAdInfo:null});g["default"]=b}),98);
__d("PolarisStoriesV3LoggingUtils",[],(function(a,b,c,d,e,f){"use strict";function g(a){return parseFloat(a.toFixed(2))}function a(a){return g(a/1e3)}f.roundFloat=g;f.msToS=a}),66);
__d("PolarisStoriesV3LoggingSession",["PolarisStoriesV3LoggingUtils","PolarisStoriesV3MediaType"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(){this.$1=null,this.$2=null,this.$3=0}var b=a.prototype;b.play=function(){this.$1==null&&(this.$1=Date.now());var a=this.$2;a!=null&&(this.$3+=Date.now()-a,this.$2=null)};b.pause=function(){this.$2==null&&(this.$2=Date.now())};b.getPauseDuration=function(){var a=this.$2;return a!=null?this.$3+Date.now()-a:this.$3};b.getTimeElapsed=function(){var a=this.$1,b=this.getPauseDuration();a=a!=null?Date.now()-a:0;return a-b};return a}();a=function(){function a(){this.$1=null,this.$2=null,this.$3=0,this.$4=0,this.$5=0,this.$6=new h(),this.$7=new h()}var b=a.prototype;b.startReel=function(a){if(this.$1===a)return;this.$1=a;this.$2=null;this.$5++;this.$6=new h();this.$6.play()};b.startMedia=function(a,b){if(this.$2===a)return;this.$2=a;switch(b){case c("PolarisStoriesV3MediaType").Image:this.$3++;break;case c("PolarisStoriesV3MediaType").Video:this.$4++;break}this.$7=new h();this.$7.play()};b.pause=function(){this.$6.pause(),this.$7.pause()};b.play=function(){this.$6.play(),this.$7.play()};b.getPhotosConsumed=function(){return this.$3};b.getVideosConsumed=function(){return this.$4};b.getViewerSessionMediaConsumed=function(){return this.$3+this.$4};b.getViewerSessionReelsConsumed=function(){return this.$5};b.getReelPauseDuration=function(){return d("PolarisStoriesV3LoggingUtils").msToS(this.$6.getPauseDuration())};b.getReelTimeElapsed=function(){return d("PolarisStoriesV3LoggingUtils").msToS(this.$6.getTimeElapsed())};b.getMediaPauseDuration=function(){return d("PolarisStoriesV3LoggingUtils").msToS(this.$6.getPauseDuration())};b.getMediaTimeElapsed=function(){return d("PolarisStoriesV3LoggingUtils").msToS(this.$6.getTimeElapsed())};b.getMediaTimeRemaining=function(a){return Math.max(0,d("PolarisStoriesV3LoggingUtils").roundFloat(a-this.getMediaTimeElapsed()))};return a}();g["default"]=a}),98);
__d("PolarisStoriesV3LoggingSourceType",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Reel:1,SelfReel:2});c=a;f["default"]=c}),66);
__d("PolarisStoriesV3Reel",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Ad","Organic"]);f.PolarisStoriesV3ReelType=a}),66);
__d("PolarisStoriesV3ReelLoggingContext",["PolarisStoriesV3LoggingSourceType","PolarisStoriesV3MediaType","PolarisStoriesV3Reel","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({authorId:"",firstView:!1,followStatus:"",hasMyReel:0,isAudienceCloseFriend:!1,mediaDuration:0,mediaId:"",mediaPk:"",mediaType:c("PolarisStoriesV3MediaType").Image,mediaViewers:0,pogImpressions:new Set(),reel:{id:"",type:d("PolarisStoriesV3Reel").PolarisStoriesV3ReelType.Organic},reelPosition:-1,reelSize:0,source:c("PolarisStoriesV3LoggingSourceType").Reel,takenAt:null});g["default"]=b}),98);
__d("PolarisStoriesV3ViewerLoggingContext",["PolarisStoriesV3ContainerModule","PolarisStoriesV3LoggingSession","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({getAction:c("emptyFunction").thatReturns("unknown"),getTrayPosition:c("emptyFunction").thatReturns(-1),hasLoggedReelPlaybackEntry:c("emptyFunction").thatReturnsFalse,initialNewReelCount:-1,initialViewedReelCount:-1,loggingSession:new(c("PolarisStoriesV3LoggingSession"))(),module:c("PolarisStoriesV3ContainerModule").Unknown,previewImpressions:new Set(),reelType:"",setAction:c("emptyFunction"),setLoggedReelPlaybackEntry:c("emptyFunction"),traySessionId:"",viewerSessionId:""});g["default"]=b}),98);
__d("getPreviewDataFromImagePreviewPayload",["FBLogger","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="data:image/jpeg;base64,",i=160,j=162,k=42;function l(a,b){b===void 0&&(b=0);a=atob(a);if(a.length<=3)throw c("unrecoverableViolation")("The preview payload was "+a.length+" byte(s) long when it should be 4 or more. The first byte is the version, the second the width, and the third the height. The 4th byte and onward is the image data.","comet_infra");var d=new Uint8Array(a.length+b);for(var e=0;e<a.length;e++)d[b+e]=a.charCodeAt(e);return d}var m;function n(){m==null&&(m=l("/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEABsaGikdKUEmJkFCLy8vQkc/Pj4/R0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0cBHSkpNCY0PygoP0c/NT9HR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR0dHR//AABEIABQAKgMBIgACEQEDEQH/xAGiAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgsQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+gEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoLEQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/AA=="));return m}function a(a){var b=n();try{a=l(a,b.length-3);var d=a[b.length-1],e=a[b.length-3],f=a[b.length-2];if(d>k)throw c("unrecoverableViolation")("Tried to decode a payload whose height was "+d+". The maximum "+("is "+k+"."),"comet_infra");if(f>k)throw c("unrecoverableViolation")("Tried to decode a payload whose width was "+f+". The maximum "+("is "+k+"."),"comet_infra");a.set(b,0);a[i]=d;a[j]=f;b=btoa(String.fromCharCode.apply(null,a));return{dataURI:""+h+b,height:d,width:f,version:e}}catch(b){a=c("FBLogger")("images_infra");b instanceof Error&&a.catching(b);a.warn("Failed to decode a preview image payload. Falling back with a blank image.");return null}}g["default"]=a}),98);
__d("usePolarisStoriesV3AdLoggingContext",["PolarisStoriesV3AdLoggingContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("PolarisStoriesV3AdLoggingContext"))}g["default"]=a}),98);
__d("usePolarisStoriesV3ReelLoggingContext",["PolarisStoriesV3ReelLoggingContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("PolarisStoriesV3ReelLoggingContext"))}g["default"]=a}),98);
__d("usePolarisStoriesV3ViewerLoggingContext",["PolarisStoriesV3ViewerLoggingContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("PolarisStoriesV3ViewerLoggingContext"))}g["default"]=a}),98);
__d("usePolarisStoriesV3GetSharedLoggingData",["react","react-compiler-runtime","usePolarisStoriesV3ReelLoggingContext","usePolarisStoriesV3ViewerLoggingContext"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(10),b=c("usePolarisStoriesV3ViewerLoggingContext")(),e=c("usePolarisStoriesV3ReelLoggingContext")(),f;a[0]!==e.firstView||a[1]!==e.followStatus||a[2]!==e.mediaDuration||a[3]!==e.mediaPk||a[4]!==e.mediaType||a[5]!==e.reel.id||a[6]!==e.reelPosition||a[7]!==e.reelSize||a[8]!==b?(f=function(){var a=b.loggingSession;return{first_view:e.firstView,follow_status:e.followStatus,m_pk:e.mediaPk,m_t:String(e.mediaType),reel_position:String(e.reelPosition),reel_size:String(e.reelSize),reel_type:b.reelType,session_reel_counter:String(a.getViewerSessionReelsConsumed()),time_elapsed:a.getMediaTimeElapsed(),time_remaining:a.getMediaTimeRemaining(e.mediaDuration),tray_position:String(b.getTrayPosition(e.reel.id)),tray_session_id:b.traySessionId,viewer_session_id:b.viewerSessionId}},a[0]=e.firstView,a[1]=e.followStatus,a[2]=e.mediaDuration,a[3]=e.mediaPk,a[4]=e.mediaType,a[5]=e.reel.id,a[6]=e.reelPosition,a[7]=e.reelSize,a[8]=b,a[9]=f):f=a[9];return f}g["default"]=a}),98);