;/*FB_PKG_DELIM*/

__d("DirectRequestsDeclineMultipleButtonFalcoEventDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("DirectRequestsDeclineMultipleButtonFalcoEvent").__setRef("DirectRequestsDeclineMultipleButtonFalcoEventDeferred");function a(a){var b=a.e_counter_channel,c=a.is_interop;h.onReady(function(a){return a.log(function(){return{e_counter_channel:b,is_interop:c}})})}g.logDirectRequestsDeclineMultipleButtonFalcoEvent=a}),98);
__d("DirectRequestsDeclineMultipleConfirmFalcoEventDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("DirectRequestsDeclineMultipleConfirmFalcoEvent").__setRef("DirectRequestsDeclineMultipleConfirmFalcoEventDeferred");function a(a){var b=a.all_used,c=a.e_counter_channel,d=a.is_interop,e=a.num_requests_visible,f=a.num_selected;h.onReady(function(a){return a.log(function(){return{all_used:b,e_counter_channel:c,is_interop:d,num_requests_visible:e,num_selected:f}})})}g.logDirectRequestsDeclineMultipleConfirmFalcoEvent=a}),98);
__d("IGDBaseButton.react",["BaseButton.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={root:{userSelect:"x87ps6o",":active_opacity":"x1d5wrs8",$$css:!0},rootDisabled:{opacity:"xuzhngd",pointerEvents:"x47corl",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.children,f=a.disabled,g=a.onClick;a=a.ref;var h=f===!0&&j.rootDisabled,k;b[0]!==h?(k=[j.root,h],b[0]=h,b[1]=k):k=b[1];b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==a||b[6]!==k?(h=i.jsx(c("BaseButton.react"),{disabled:f,onClick:g,ref:a,xstyle:k,children:e}),b[2]=e,b[3]=f,b[4]=g,b[5]=a,b[6]=k,b[7]=h):h=b[7];return h}g["default"]=a}),98);
__d("IGDConfirmBulkDeleteMessageRequestsLogger",["DirectRequestsDeclineMultipleConfirmFalcoEventDeferred"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){d("DirectRequestsDeclineMultipleConfirmFalcoEventDeferred").logDirectRequestsDeclineMultipleConfirmFalcoEvent({all_used:a===b,e_counter_channel:"",is_interop:!1,num_requests_visible:a.toString(),num_selected:b.toString()})}g.logConfirmBulkDeleteMessageRequests=a}),98);
__d("IGDOpenBulkDeleteOpenMessageRequestsDialogLogger",["DirectRequestsDeclineMultipleButtonFalcoEventDeferred"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("DirectRequestsDeclineMultipleButtonFalcoEventDeferred").logDirectRequestsDeclineMultipleButtonFalcoEvent({e_counter_channel:"",is_interop:!1})}g.logOpenBulkDeleteOpenMessageRequestsDialog=a}),98);
__d("IGDBulkDeleteMessageRequestsButton.react",["fbt","I64","IGDBaseButton.react","IGDConfirmBulkDeleteMessageRequestsLogger","IGDOpenBulkDeleteOpenMessageRequestsDialogLogger","IGDSText.react","IGDThreadListNewMessageLoggingDataContext","JSResourceForInteraction","LSThreadBitOffset","MWPThreadsForThreadList","MWThreadListSupportedThreadTypes","MWXacGating","MessengerWebUXLogger","ODS","ReQL","ReQLSuspense","emptyFunction","isMWXacGroupThread","react","react-compiler-runtime","useIGDSLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;b.useCallback;var n=b.useState;function a(a){var b=d("react-compiler-runtime").c(24),e=a.parentThreadKey,g=(i||(i=c("useReStore")))(),k;b[0]!==g.tables.threads_ranges_v2__generated||b[1]!==e?(a=function(){return d("ReQL").fromTableAscending(g.tables.threads_ranges_v2__generated).getKeyRange(e)},k=[g.tables.threads_ranges_v2__generated,e],b[0]=g.tables.threads_ranges_v2__generated,b[1]=e,b[2]=a,b[3]=k):(a=b[2],k=b[3]);var l=d("ReQLSuspense").useFirst(a,k,f.id+":52");b[4]!==g||b[5]!==e||b[6]!==l?(a=function(){return d("MWPThreadsForThreadList").createIterable(g,e,l,["threadType"].concat(d("LSThreadBitOffset").threadCapabilityFields,["threadKey"])).filter(q).filter(p)},k=[g,e,l],b[4]=g,b[5]=e,b[6]=l,b[7]=a,b[8]=k):(a=b[7],k=b[8]);var r=d("ReQLSuspense").useArray(a,k,f.id+":59");a=r.length;k=n(!1);var s=k[0],t=k[1];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(k=h._(/*BTDS*/"Delete all"),b[9]=k):k=b[9];k=k;var u;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(u=c("JSResourceForInteraction")("IGDBulkDeleteMessageRequestsDialog.react").__setRef("IGDBulkDeleteMessageRequestsButton.react"),b[10]=u):u=b[10];u=c("useIGDSLazyDialog")(u);var v=u[0],w=c("MessengerWebUXLogger").useInteractionLogger(),x=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();b[11]!==r?(u=r.map(o),b[11]=r,b[12]=u):u=b[12];var y=u;b[13]!==x||b[14]!==w||b[15]!==v||b[16]!==y||b[17]!==r?(u=function(){w==null||w({eventName:"delete_all_requests_attempt",extraData:{is_request:"true",thread_count:String(r.length),thread_ids:String(y)},flowInstanceId:x}),v({onDeleteFulfill:function(){t(!1),r.length>0&&d("IGDConfirmBulkDeleteMessageRequestsLogger").logConfirmBulkDeleteMessageRequests(r.length,r.length),w==null||w({eventName:"delete_all_requests_confirmed",extraData:{is_request:"true",thread_count:String(r.length),thread_ids:String(y)},flowInstanceId:x})},onDeleteStart:function(){return t(!0)},openThreadCount:r.length,threads:r},c("emptyFunction")),(j||(j=d("ODS"))).bumpEntityKey(3185,"igd.message_requests","delete_bulk"),r.length>0&&d("IGDOpenBulkDeleteOpenMessageRequestsDialogLogger").logOpenBulkDeleteOpenMessageRequestsDialog()},b[13]=x,b[14]=w,b[15]=v,b[16]=y,b[17]=r,b[18]=u):u=b[18];u=u;var z;b[19]===Symbol["for"]("react.memo_cache_sentinel")?(z={className:"x1yrsyyn x10b6aqq"},b[19]=z):z=b[19];a=a===0||s;b[20]===Symbol["for"]("react.memo_cache_sentinel")?(s=m.jsx(c("IGDSText.react"),{color:"errorOrDestructive",size:"label",textAlign:"start",children:k}),b[20]=s):s=b[20];b[21]!==u||b[22]!==a?(k=m.jsx("div",babelHelpers["extends"]({},z,{children:m.jsx(c("IGDBaseButton.react"),{disabled:a,onClick:u,children:s})})),b[21]=u,b[22]=a,b[23]=k):k=b[23];return k}function o(a){return(k||(k=d("I64"))).to_string(a.threadKey)}function p(a){if(d("MWXacGating").isGroupsEnabled())return!0;else return!c("isMWXacGroupThread")(a)}function q(a){return c("MWThreadListSupportedThreadTypes").findIndex(function(b){return(k||(k=d("I64"))).equal(a.threadType,b)})!==-1}g["default"]=a}),226);
__d("IGDMessageRequestLeftRailHooks.react",["I64","LSIntEnum","MWPActor.react","MWPThreadsForThreadList","MessageRequestStatus","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=d("react-compiler-runtime").c(13),e=(j||(j=c("useReStore")))(),g=d("MWPActor.react").useActor(),i;b[0]!==e||b[1]!==a?(i=function(){return d("ReQL").fromTableAscending(e.tables.threads_ranges_v2__generated).getKeyRange((h||(h=d("LSIntEnum"))).ofNumber(a))},b[0]=e,b[1]=a,b[2]=i):i=b[2];var k;b[3]!==e?(k=[e],b[3]=e,b[4]=k):k=b[4];var l=d("ReQLSuspense").useFirst(i,k,f.id+":31");b[5]!==e||b[6]!==a||b[7]!==l?(i=function(){return d("MWPThreadsForThreadList").createIterable(e,(h||(h=d("LSIntEnum"))).ofNumber(a),l,[])},b[5]=e,b[6]=a,b[7]=l,b[8]=i):i=b[8];b[9]!==g||b[10]!==e||b[11]!==l?(k=[e,g,l],b[9]=g,b[10]=e,b[11]=l,b[12]=k):k=b[12];return d("ReQLSuspense").useFirst(i,k,f.id+":39")!=null}function b(a){var b=d("react-compiler-runtime").c(10),e=(j||(j=c("useReStore")))(),g,m;b[0]!==e.tables.message_requests||b[1]!==e.tables.threads||b[2]!==a?(g=function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.message_requests).filter(n),d("ReQL").fromTableAscending(e.tables.threads)).filter(function(b){b=b[1];b=(i||(i=d("I64"))).equal(b.parentThreadKey,(h||(h=d("LSIntEnum"))).ofNumber(-3));return a?b:!b})},m=[e.tables.message_requests,e.tables.threads,a],b[0]=e.tables.message_requests,b[1]=e.tables.threads,b[2]=a,b[3]=g,b[4]=m):(g=b[3],m=b[4]);g=d("ReQLSuspense").useArray(g,m,f.id+":54");if(b[5]!==g){m=g.map(l);m=m.map(k);b[5]=g;b[6]=m}else m=b[6];m=m;var o;b[7]!==g.length||b[8]!==m?(o=[g.length,m],b[7]=g.length,b[8]=m,b[9]=o):o=b[9];return o}function k(a){return(i||(i=d("I64"))).to_string(a[0])}function l(a){return a.map(m)}function m(a){return a.threadKey}function n(a){return(i||(i=d("I64"))).equal(a.messageRequestStatus,(h||(h=d("LSIntEnum"))).ofNumber(c("MessageRequestStatus").INCOMING_REQUEST))}g.useHasMessageRequests=a;g.useMessageRequestCount=b}),98);
__d("IGDMessageRequestLeftRailMessageRequestsList.react",["fbt","I64","IGDBulkDeleteMessageRequestsButton.react","IGDMessageRequestLeftRailHooks.react","IGDMessageRequestLeftRailLayout.react","IGDMobileNavigationButton.react","IGDSText.react","IGDSectionHeader.react","IGDThreadList.react","IGDThreadListNewMessageLoggingDataContext","LSIntEnum","MessengerWebUXLogger","PolarisFastLink.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react"),m={messageSettingsButton:{marginTop:"xcxhlts",$$css:!0}},n=h._(/*BTDS*/"Decide who can message you");function a(a){var b=d("react-compiler-runtime").c(38),e=a.hasRequests,f=a.hiddenRequestsListItem,g=a.info,h=a.isMobile,i=a.onNavigate,o=a.onReturn,p=a.parentThreadKey;a=a.title;var q=d("IGDMessageRequestLeftRailHooks.react").useMessageRequestCount(!0),r=q[0];q=q[1];var s=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();r=String(r);q=String(q);var t;b[0]!==r||b[1]!==q?(t={is_hidden_request:"true",thread_count:r,thread_ids:q},b[0]=r,b[1]=q,b[2]=t):t=b[2];b[3]!==s||b[4]!==t?(r={eventName:"thread_list_rendered",extraData:t,flowInstanceId:s},b[3]=s,b[4]=t,b[5]=r):r=b[5];q=c("MessengerWebUXLogger").useImpressionLoggerRef(r);b[6]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x78zum5 xdt5ytf x5yr21d"},b[6]=s):s=b[6];b[7]!==o?(t=l.jsx(c("IGDMobileNavigationButton.react"),{onClick:o}),b[7]=o,b[8]=t):t=b[8];b[9]!==a?(r=l.jsx(c("IGDSText.react"),{size:"headline2",weight:"semibold",children:a}),b[9]=a,b[10]=r):r=b[10];b[11]!==h||b[12]!==t||b[13]!==r?(o=l.jsx(c("IGDSectionHeader.react"),{isMobile:h,noBottomBorder:!0,startAdornment:t,children:r}),b[11]=h,b[12]=t,b[13]=r,b[14]=o):o=b[14];b[15]!==e||b[16]!==g||b[17]!==h||b[18]!==i||b[19]!==p?(t=g!=null&&e?l.jsxs(d("IGDMessageRequestLeftRailLayout.react").InfoBox,{isMobile:h,children:[l.jsx(c("IGDSText.react"),{color:"secondaryText",size:"footnote",children:g}),(j||(j=d("I64"))).equal(p,(k||(k=d("LSIntEnum"))).ofNumber(-1))?l.jsx(c("PolarisFastLink.react"),{"data-testid":void 0,label:n,onClick:i,xstyle:m.messageSettingsButton,children:l.jsx(c("IGDSText.react"),{color:"primaryButton",size:"body",weight:"semibold",children:n})}):null]}):null,b[15]=e,b[16]=g,b[17]=h,b[18]=i,b[19]=p,b[20]=t):t=b[20];b[21]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x1iyjqo2 x1odjw0f"},b[21]=r):r=b[21];g=e?f:void 0;h=e?void 0:f;b[22]!==p||b[23]!==g||b[24]!==h||b[25]!==a?(i=l.jsx(c("IGDThreadList.react"),{afterContent:g,beforeContent:h,gridLabel:a,isMessageRequestRoute:!0,parentThreadKey:p}),b[22]=p,b[23]=g,b[24]=h,b[25]=a,b[26]=i):i=b[26];b[27]!==e||b[28]!==p?(f=e?l.jsx(d("IGDMessageRequestLeftRailLayout.react").Footer,{children:l.jsx(c("IGDBulkDeleteMessageRequestsButton.react"),{parentThreadKey:p})}):null,b[27]=e,b[28]=p,b[29]=f):f=b[29];b[30]!==i||b[31]!==f?(g=l.jsxs("div",babelHelpers["extends"]({},r,{children:[i,f]})),b[30]=i,b[31]=f,b[32]=g):g=b[32];b[33]!==q||b[34]!==g||b[35]!==o||b[36]!==t?(h=l.jsxs("div",babelHelpers["extends"]({},s,{ref:q,children:[o,t,g]})),b[33]=q,b[34]=g,b[35]=o,b[36]=t,b[37]=h):h=b[37];return h}g["default"]=a}),226);
__d("IGDMessageRequestLeftRailMessageHiddenRequestsRail.react",["fbt","IGDMessageRequestLeftRailHooks.react","IGDMessageRequestLeftRailMessageRequestsList.react","IGDNavigation","LSIntEnum","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){var b=d("react-compiler-runtime").c(9);a=a.isMobile;var e=d("IGDNavigation").useIGDNavigation(),f=d("IGDMessageRequestLeftRailHooks.react").useHasMessageRequests(-3),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Requests containing messages that may be offensive or unwanted are moved to this folder."),b[0]=g):g=b[0];var i;b[1]!==e?(i=function(){return e.openPendingInbox()},b[1]=e,b[2]=i):i=b[2];var l,m;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(l=(j||(j=d("LSIntEnum"))).ofNumber(-3),m=h._(/*BTDS*/"Hidden requests"),b[3]=l,b[4]=m):(l=b[3],m=b[4]);b[5]!==f||b[6]!==a||b[7]!==i?(g=k.jsx(c("IGDMessageRequestLeftRailMessageRequestsList.react"),{entryPoint:"inboxThreadList",hasRequests:f,info:g,isMobile:a,onReturn:i,parentThreadKey:l,title:m}),b[5]=f,b[6]=a,b[7]=i,b[8]=g):g=b[8];return g}g["default"]=a}),226);
__d("IGDMessageRequestLeftRailMessageRequestsRail.react",["fbt","IGDListCell.react","IGDMessageRequestLeftRailHooks.react","IGDMessageRequestLeftRailMessageRequestsList.react","IGDNavigation","IGDSBox.react","IGDSChevronIcon.react","IGDSEyeOffOutlineIcon.react","IGDSText.react","IGDThreadListNewMessageLoggingDataContext","LSIntEnum","MWVerticalRhythm","MessengerWebUXLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));i.useCallback;var l={avatarBackground:{backgroundColor:"x19g9edo",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xnnlda6",width:"x15yg21f",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(29);a=a.isMobile;var e=d("IGDNavigation").useIGDNavigation(),f=d("IGDMessageRequestLeftRailHooks.react").useHasMessageRequests(-1),g=d("IGDMessageRequestLeftRailHooks.react").useMessageRequestCount(!1),i=g[0];g=g[1];var m=d("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext();i=String(i);g=String(g);var n;b[0]!==i||b[1]!==g?(n={is_request:"true",requests_count:i,thread_ids:g},b[0]=i,b[1]=g,b[2]=n):n=b[2];b[3]!==m||b[4]!==n?(i={eventName:"thread_list_rendered",extraData:n,flowInstanceId:m},b[3]=m,b[4]=n,b[5]=i):i=b[5];g=c("MessengerWebUXLogger").useImpressionLoggerRef(i);var o=c("MessengerWebUXLogger").useInteractionLogger();b[6]!==m||b[7]!==o||b[8]!==e?(n=function(){e.openHiddenRequests(),o==null||o({eventName:"visit_hidden_requests",flowInstanceId:m})},b[6]=m,b[7]=o,b[8]=e,b[9]=n):n=b[9];i=n;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(n=k.jsx(c("IGDSChevronIcon.react"),{alt:"Chevron icon to indicate entering the hidden requests window",color:"ig-primary-text",direction:"next",size:16}),b[10]=n):n=b[10];var p,q;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(p=k.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"center",xstyle:l.avatarBackground,children:k.jsx(c("IGDSEyeOffOutlineIcon.react"),{alt:"Eye-off icon for the hidden requests",color:"ig-primary-text",size:24})}),q=k.jsx(c("MWVerticalRhythm"),{height:19}),b[11]=p,b[12]=q):(p=b[11],q=b[12]);b[13]===Symbol["for"]("react.memo_cache_sentinel")?(q=k.jsxs(k.Fragment,{children:[q,k.jsx(c("IGDSText.react"),{color:"primaryText",maxLines:1,size:"body",weight:"normal",children:h._(/*BTDS*/"Hidden Requests")}),k.jsx(c("MWVerticalRhythm"),{height:19})]}),b[13]=q):q=b[13];b[14]!==g||b[15]!==i?(n=k.jsx(c("IGDListCell.react"),{addOnEnd:n,addOnStart:p,content:q,onPress:i,ref:g,size:"large"}),b[14]=g,b[15]=i,b[16]=n):n=b[16];b[17]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"Open a chat to get more info about who's messaging you. They won't know you've seen it until you accept."),b[17]=p):p=b[17];b[18]!==e?(q=function(){return e.goToMessageSettings()},g=function(){return e.goToNullState()},b[18]=e,b[19]=q,b[20]=g):(q=b[19],g=b[20]);var r;b[21]===Symbol["for"]("react.memo_cache_sentinel")?(i=(j||(j=d("LSIntEnum"))).ofNumber(-1),r=h._(/*BTDS*/"Message requests"),b[21]=i,b[22]=r):(i=b[21],r=b[22]);b[23]!==f||b[24]!==a||b[25]!==n||b[26]!==q||b[27]!==g?(p=k.jsx(c("IGDMessageRequestLeftRailMessageRequestsList.react"),{entryPoint:"inboxThreadList",hasRequests:f,hiddenRequestsListItem:n,info:p,isMobile:a,onNavigate:q,onReturn:g,parentThreadKey:i,title:r}),b[23]=f,b[24]=a,b[25]=n,b[26]=q,b[27]=g,b[28]=p):p=b[28];return p}g["default"]=a}),226);
__d("IGDMessageRequestLeftRailImplMsys.react",["IGDMessageRequestLeftRailLayout.react","IGDMessageRequestLeftRailMessageHiddenRequestsRail.react","IGDMessageRequestLeftRailMessageRequestsRail.react","PolarisUA","react","react-compiler-runtime","useIsCurrentRouteMessageHiddenRequests"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=d("react-compiler-runtime").c(5);var b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=d("PolarisUA").isMobile(),a[0]=b):b=a[0];b=b;var e=c("useIsCurrentRouteMessageHiddenRequests")(),f;a[1]!==e?(f=e?i.jsx(c("IGDMessageRequestLeftRailMessageHiddenRequestsRail.react"),{isMobile:b}):i.jsx(c("IGDMessageRequestLeftRailMessageRequestsRail.react"),{isMobile:b}),a[1]=e,a[2]=f):f=a[2];e=f;a[3]!==e?(f=i.jsx(d("IGDMessageRequestLeftRailLayout.react").Container,{isMobile:b,children:e}),a[3]=e,a[4]=f):f=a[4];return f}g["default"]=a}),98);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<1364882a0342e50e87bdf4c23dda9573>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalExtension.prod",["Lexical","LexicalUtils"],(function $module_LexicalExtension_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _excluded=["$initialEditorState","onError"];var _require_Lexical;var n=Symbol["for"]("preact-signals");function i(){if(a>1)return void a--;var e,t=!1;for(;void 0!==r;){var _n=r;for(r=void 0,c++;void 0!==_n;){var _i=_n.o;if(_n.o=void 0,_n.f&=-3,!(8&_n.f)&&g(_n))try{_n.c();}catch(n){t||(e=n,t=!0);}_n=_i;}}if(c=0,a--,t)throw e;}function o(e){if(a>0)return e();a++;try{return e();}finally{i();}}var s,r;function d(e){var t=s;s=void 0;try{return e();}finally{s=t;}}var a=0,c=0,l=0;function u(e){if(void 0===s)return;var t=e.n;return void 0===t||t.t!==s?(t={i:0,S:e,p:s.s,n:void 0,t:s,e:void 0,x:void 0,r:t},void 0!==s.s&&(s.s.n=t),s.s=t,e.n=t,32&s.f&&e.S(t),t):-1===t.i?(t.i=0,void 0!==t.n&&(t.n.p=t.p,void 0!==t.p&&(t.p.n=t.n),t.p=s.s,t.n=void 0,s.s.n=t,s.s=t),t):void 0;}function f(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name;}function h(e,t){return new f(e,t);}function g(e){for(var _t=e.s;void 0!==_t;_t=_t.n)if(_t.S.i!==_t.i||!_t.S.h()||_t.S.i!==_t.i)return!0;return!1;}function p(e){for(var _t2=e.s;void 0!==_t2;_t2=_t2.n){var _n2=_t2.S.n;if(void 0!==_n2&&(_t2.r=_n2),_t2.S.n=_t2,_t2.i=-1,void 0===_t2.n){e.s=_t2;break;}}}function x(e){var t,n=e.s;for(;void 0!==n;){var _e=n.p;-1===n.i?(n.S.U(n),void 0!==_e&&(_e.n=n.n),void 0!==n.n&&(n.n.p=_e)):t=n,n.S.n=n.r,void 0!==n.r&&(n.r=void 0),n=_e;}e.s=t;}function m(e,t){f.call(this,void 0),this.x=e,this.s=void 0,this.g=l-1,this.f=4,this.W=null==t?void 0:t.watched,this.Z=null==t?void 0:t.unwatched,this.name=null==t?void 0:t.name;}function E(e,t){return new m(e,t);}function v(e){var t=e.u;if(e.u=void 0,"function"==typeof t){a++;var _n3=s;s=void 0;try{t();}catch(t){throw e.f&=-2,e.f|=8,y(e),t;}finally{s=_n3,i();}}}function y(e){for(var _t3=e.s;void 0!==_t3;_t3=_t3.n)_t3.S.U(_t3);e.x=void 0,e.s=void 0,v(e);}function S(e){if(s!==this)throw new Error("Out-of-order effect");x(this),s=e,this.f&=-2,8&this.f&&y(this),i();}function N(e,t){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32,this.name=null==t?void 0:t.name;}function b(e,t){var n=new N(e,t);try{n.c();}catch(e){throw n.d(),e;}var i=n.d.bind(n);return i[typeof Symbol==="function"?Symbol.dispose:"@@dispose"]=i,i;}function R(e,t){if(t===void 0){t={};}var n={};for(var _i2 in e){var _o=t[_i2],_s=h(void 0===_o?e[_i2]:_o);n[_i2]=_s;}return n;}f.prototype.brand=n,f.prototype.h=function(){return!0;},f.prototype.S=function(e){var _this=this;var t=this.t;t!==e&&void 0===e.e&&(e.x=t,this.t=e,void 0!==t?t.e=e:d(function(){var e;null==(e=_this.W)||e.call(_this);}));},f.prototype.U=function(e){var _this2=this;if(void 0!==this.t){var _t4=e.e,_n4=e.x;void 0!==_t4&&(_t4.x=_n4,e.e=void 0),void 0!==_n4&&(_n4.e=_t4,e.x=void 0),e===this.t&&(this.t=_n4,void 0===_n4&&d(function(){var e;null==(e=_this2.Z)||e.call(_this2);}));}},f.prototype.subscribe=function(e){var _this3=this;return b(function(){var t=_this3.value,n=s;s=void 0;try{e(t);}finally{s=n;}},{name:"sub"});},f.prototype.valueOf=function(){return this.value;},f.prototype.toString=function(){return this.value+"";},f.prototype.toJSON=function(){return this.value;},f.prototype.peek=function(){var e=s;s=void 0;try{return this.value;}finally{s=e;}},Object.defineProperty(f.prototype,"value",{get:function get(){var e=u(this);return void 0!==e&&(e.i=this.i),this.v;},set:function set(e){if(e!==this.v){if(c>100)throw new Error("Cycle detected");this.v=e,this.i++,l++,a++;try{for(var _e2=this.t;void 0!==_e2;_e2=_e2.x)_e2.t.N();}finally{i();}}}}),m.prototype=new f(),m.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if(32==(36&this.f))return!0;if(this.f&=-5,this.g===l)return!0;if(this.g=l,this.f|=1,this.i>0&&!g(this))return this.f&=-2,!0;var e=s;try{p(this),s=this;var _e3=this.x();(16&this.f||this.v!==_e3||0===this.i)&&(this.v=_e3,this.f&=-17,this.i++);}catch(e){this.v=e,this.f|=16,this.i++;}return s=e,x(this),this.f&=-2,!0;},m.prototype.S=function(e){if(void 0===this.t){this.f|=36;for(var _e4=this.s;void 0!==_e4;_e4=_e4.n)_e4.S.S(_e4);}f.prototype.S.call(this,e);},m.prototype.U=function(e){if(void 0!==this.t&&(f.prototype.U.call(this,e),void 0===this.t)){this.f&=-33;for(var _e5=this.s;void 0!==_e5;_e5=_e5.n)_e5.S.U(_e5);}},m.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var _e6=this.t;void 0!==_e6;_e6=_e6.x)_e6.t.N();}},Object.defineProperty(m.prototype,"value",{get:function get(){if(1&this.f)throw new Error("Cycle detected");var e=u(this);if(this.h(),void 0!==e&&(e.i=this.i),16&this.f)throw this.v;return this.v;}}),N.prototype.c=function(){var e=this.S();try{if(8&this.f)return;if(void 0===this.x)return;var _e7=this.x();"function"==typeof _e7&&(this.u=_e7);}finally{e();}},N.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,v(this),p(this),a++;var e=s;return s=this,S.bind(this,e);},N.prototype.N=function(){2&this.f||(this.f|=2,this.o=r,r=this);},N.prototype.d=function(){this.f|=8,1&this.f||y(this);},N.prototype.dispose=function(){this.d();};var w=(_require_Lexical=require("Lexical")).defineExtension({build:function build(e,t,n){return R(t);},config:_require_Lexical.safeCast({defaultSelection:"rootEnd",disabled:!1}),name:"@lexical/extension/AutoFocus",register:function register(e,t,n){var i=n.getOutput();return b(function(){return i.disabled.value?void 0:e.registerRootListener(function(t){e.focus(function(){var e=document.activeElement;null===t||null!==e&&t.contains(e)||t.focus({preventScroll:!0});},{defaultSelection:i.defaultSelection.peek()});});});}});function $(){var t=require("Lexical").$getRoot(),n=require("Lexical").$getSelection(),i=require("Lexical").$createParagraphNode();t.clear(),t.append(i),null!==n&&i.select(),require("Lexical").$isRangeSelection(n)&&(n.format=0);}function O(t,n){if(n===void 0){n=$;}return t.registerCommand(require("Lexical").CLEAR_EDITOR_COMMAND,function(e){return t.update(n),!0;},require("Lexical").COMMAND_PRIORITY_EDITOR);}var C=_require_Lexical.defineExtension({build:function build(e,t,n){return R(t);},config:_require_Lexical.safeCast({$onClear:$}),name:"@lexical/extension/ClearEditor",register:function register(e,t,n){var _n$getOutput=n.getOutput(),i=_n$getOutput.$onClear;return b(function(){return O(e,i.value);});}});function M(e,t){var n;return h(e(),{unwatched:function unwatched(){n&&(n(),n=void 0);},watched:function watched(){this.value=e(),n=t(this);}});}var D=_require_Lexical.defineExtension({build:function build(e){return M(function(){return e.getEditorState();},function(t){return e.registerUpdateListener(function(e){t.value=e.editorState;});});},name:"@lexical/extension/EditorState"});function _(e){throw new Error(e);}function I(e,t){if(e&&t&&!Array.isArray(t)&&"object"==typeof e&&"object"==typeof t){var _n5=e,_i3=t;for(var _e8 in _i3)_n5[_e8]=I(_n5[_e8],_i3[_e8]);return e;}return t;}var T=0,A=1,L=2,B=3,P=4,j=5,k=6,K=7;function z(e){return e.id===T;}function F(e){return e.id===L;}function U(e){return function(e){return e.id===A;}(e)||_("LexicalBuilder: Can not apply a permanent mark from state id "+String(e.id)+" (expected "+String(A)+" temporary)"),Object.assign(e,{id:L});}var H=new Set();var _Y=function(){function Y(e,t){this.builder=e,this.extension=t,this.configs=new Set(),this.state={id:T};}var _proto=Y.prototype;_proto.mergeConfigs=function mergeConfigs(){var t=this.extension.config||{};var n=this.extension.mergeConfig?this.extension.mergeConfig.bind(this.extension):require("Lexical").shallowMergeConfig;for(var _e9 of this.configs)t=n(t,_e9);return t;};_proto.init=function init(e){var t=this.state;F(t)||_("ExtensionRep: Can not configure from state id "+String(t.id));var n={getDependency:this.getInitDependency.bind(this),getDirectDependentNames:this.getDirectDependentNames.bind(this),getPeer:this.getInitPeer.bind(this),getPeerNameSet:this.getPeerNameSet.bind(this)},i=babelHelpers["extends"]({},n,{getDependency:this.getDependency.bind(this),getInitResult:this.getInitResult.bind(this),getPeer:this.getPeer.bind(this)}),o=function(e,t,n){return Object.assign(e,{config:t,id:B,registerState:n});}(t,this.mergeConfigs(),n);var s;this.state=o,this.extension.init&&(s=this.extension.init(e,o.config,n)),this.state=function(e,t,n){return Object.assign(e,{id:P,initResult:t,registerState:n});}(o,s,i);};_proto.build=function build(e){var t=this.state;var n;t.id!==P&&_("ExtensionRep: register called in state id "+String(t.id)+" (expected "+String(j)+" initialized)"),this.extension.build&&(n=this.extension.build(e,t.config,t.registerState));var i=babelHelpers["extends"]({},t.registerState,{getOutput:function getOutput(){return n;},getSignal:this.getSignal.bind(this)});this.state=function(e,t,n){return Object.assign(e,{id:j,output:t,registerState:n});}(t,n,i);};_proto.register=function register(e,t){var _this4=this;this._signal=t;var n=this.state;n.id!==j&&_("ExtensionRep: register called in state id "+String(n.id)+" (expected "+String(j)+" built)");var i=this.extension.register&&this.extension.register(e,n.config,n.registerState);return this.state=function(e){return Object.assign(e,{id:k});}(n),function(){var e=_this4.state;e.id!==K&&_("ExtensionRep: rollbackToBuiltState called in state id "+String(n.id)+" (expected "+String(K)+" afterRegistration)"),_this4.state=function(e){return Object.assign(e,{id:j});}(e),i&&i();};};_proto.afterRegistration=function afterRegistration(e){var t=this.state;var n;return t.id!==k&&_("ExtensionRep: afterRegistration called in state id "+String(t.id)+" (expected "+String(k)+" registered)"),this.extension.afterRegistration&&(n=this.extension.afterRegistration(e,t.config,t.registerState)),this.state=function(e){return Object.assign(e,{id:K});}(t),n;};_proto.getSignal=function getSignal(){return void 0===this._signal&&_("ExtensionRep.getSignal() called before register"),this._signal;};_proto.getInitResult=function getInitResult(){void 0===this.extension.init&&_("ExtensionRep: getInitResult() called for Extension "+this.extension.name+" that does not define init");var e=this.state;return function(e){return e.id>=P;}(e)||_("ExtensionRep: getInitResult() called for ExtensionRep in state id "+String(e.id)+" < "+String(P)+" (initialized)"),e.initResult;};_proto.getInitPeer=function getInitPeer(e){var t=this.builder.extensionNameMap.get(e);return t?t.getExtensionInitDependency():void 0;};_proto.getExtensionInitDependency=function getExtensionInitDependency(){var e=this.state;return function(e){return e.id>=B;}(e)||_("ExtensionRep: getExtensionInitDependency called in state id "+String(e.id)+" (expected >= "+String(B)+" configured)"),{config:e.config};};_proto.getPeer=function getPeer(e){var t=this.builder.extensionNameMap.get(e);return t?t.getExtensionDependency():void 0;};_proto.getInitDependency=function getInitDependency(e){var t=this.builder.getExtensionRep(e);return void 0===t&&_("LexicalExtensionBuilder: Extension "+this.extension.name+" missing dependency extension "+e.name+" to be in registry"),t.getExtensionInitDependency();};_proto.getDependency=function getDependency(e){var t=this.builder.getExtensionRep(e);return void 0===t&&_("LexicalExtensionBuilder: Extension "+this.extension.name+" missing dependency extension "+e.name+" to be in registry"),t.getExtensionDependency();};_proto.getState=function getState(){var e=this.state;return function(e){return e.id>=K;}(e)||_("ExtensionRep getState called in state id "+String(e.id)+" (expected "+String(K)+" afterRegistration)"),e;};_proto.getDirectDependentNames=function getDirectDependentNames(){return this.builder.incomingEdges.get(this.extension.name)||H;};_proto.getPeerNameSet=function getPeerNameSet(){var e=this._peerNameSet;return e||(e=new Set((this.extension.peerDependencies||[]).map(function(_ref){var e=_ref[0];return e;})),this._peerNameSet=e),e;};_proto.getExtensionDependency=function getExtensionDependency(){if(!this._dependency){var _e0=this.state;(function(e){return e.id>=j;})(_e0)||_("Extension "+this.extension.name+" used as a dependency before build"),this._dependency={config:_e0.config,init:_e0.initResult,output:_e0.output};}return this._dependency;};return Y;}();var G={tag:_require_Lexical.HISTORY_MERGE_TAG};function W(){var t=require("Lexical").$getRoot();t.isEmpty()&&t.append(require("Lexical").$createParagraphNode());}var Z=_require_Lexical.defineExtension({config:_require_Lexical.safeCast({setOptions:G,updateOptions:G}),init:function init(_ref2){var _ref2$$initialEditorS=_ref2.$initialEditorState,e=_ref2$$initialEditorS===void 0?W:_ref2$$initialEditorS;return{$initialEditorState:e,initialized:!1};},afterRegistration:function afterRegistration(t,_ref3,o){var n=_ref3.updateOptions,i=_ref3.setOptions;var s=o.getInitResult();if(!s.initialized){s.initialized=!0;var _o2=s.$initialEditorState;if(require("Lexical").$isEditorState(_o2))t.setEditorState(_o2,i);else if("function"==typeof _o2)t.update(function(){_o2(t);},n);else if(_o2&&("string"==typeof _o2||"object"==typeof _o2)){var _e1=t.parseEditorState(_o2);t.setEditorState(_e1,i);}}return function(){};},name:"@lexical/extension/InitialState",nodes:[_require_Lexical.RootNode,_require_Lexical.TextNode,_require_Lexical.LineBreakNode,_require_Lexical.TabNode,_require_Lexical.ParagraphNode]}),V=Symbol["for"]("@lexical/extension/LexicalBuilder");function q(){}function J(e){throw e;}function X(e){return Array.isArray(e)?e:[e];}var Q="0.35.0+prod.cjs";var _ee=function(){function ee(e){this.outgoingConfigEdges=new Map(),this.incomingEdges=new Map(),this.extensionNameMap=new Map(),this.conflicts=new Map(),this.PACKAGE_VERSION=Q,this.roots=e;for(var _t5 of e)this.addExtension(_t5);}ee.fromExtensions=function fromExtensions(e){var t=[X(Z)];for(var _n6 of e)t.push(X(_n6));return new ee(t);};ee.maybeFromEditor=function maybeFromEditor(e){var t=e[V];return t&&(t.PACKAGE_VERSION!==Q&&_("LexicalBuilder.fromEditor: The given editor was created with LexicalBuilder "+t.PACKAGE_VERSION+" but this version is "+Q+". A project should have exactly one copy of LexicalBuilder"),t instanceof ee||_("LexicalBuilder.fromEditor: There are multiple copies of the same version of LexicalBuilder in your project, and this editor was created with another one. Your project, or one of its dependencies, has its package.json and/or bundler configured incorrectly.")),t;};ee.fromEditor=function fromEditor(e){var t=ee.maybeFromEditor(e);return void 0===t&&_("LexicalBuilder.fromEditor: The given editor was not created with LexicalBuilder"),t;};var _proto2=ee.prototype;_proto2.constructEditor=function constructEditor(){var _Object$assign;var _this$buildCreateEdit=this.buildCreateEditorArgs(),t=_this$buildCreateEdit.$initialEditorState,n=_this$buildCreateEdit.onError,i=babelHelpers.objectWithoutPropertiesLoose(_this$buildCreateEdit,_excluded),o=Object.assign(require("Lexical").createEditor(babelHelpers["extends"]({},i,n?{onError:function onError(e){n(e,o);}}:{})),(_Object$assign={},_Object$assign[V]=this,_Object$assign));for(var _e10 of this.sortedExtensionReps())_e10.build(o);return o;};_proto2.buildEditor=function buildEditor(){var _Object$assign2;var e=q;function n(){try{e();}finally{e=q;}}var i=Object.assign(this.constructEditor(),(_Object$assign2={dispose:n},_Object$assign2[typeof Symbol==="function"?Symbol.dispose:"@@dispose"]=n,_Object$assign2));return e=require("LexicalUtils").mergeRegister(this.registerEditor(i),function(){return i.setRootElement(null);}),i;};_proto2.hasExtensionByName=function hasExtensionByName(e){return this.extensionNameMap.has(e);};_proto2.getExtensionRep=function getExtensionRep(e){var t=this.extensionNameMap.get(e.name);if(t)return t.extension!==e&&_("LexicalBuilder: A registered extension with name "+e.name+" exists but does not match the given extension"),t;};_proto2.addEdge=function addEdge(e,t,n){var i=this.outgoingConfigEdges.get(e);i?i.set(t,n):this.outgoingConfigEdges.set(e,new Map([[t,n]]));var o=this.incomingEdges.get(t);o?o.add(e):this.incomingEdges.set(t,new Set([e]));};_proto2.addExtension=function addExtension(e){void 0!==this._sortedExtensionReps&&_("LexicalBuilder: addExtension called after finalization");var t=X(e),n=t[0];"string"!=typeof n.name&&_("LexicalBuilder: extension name must be string, not "+typeof n.name);var i=this.extensionNameMap.get(n.name);if(void 0!==i&&i.extension!==n&&_("LexicalBuilder: Multiple extensions registered with name "+n.name+", names must be unique"),!i){i=new _Y(this,n),this.extensionNameMap.set(n.name,i);var _e11=this.conflicts.get(n.name);"string"==typeof _e11&&_("LexicalBuilder: extension "+n.name+" conflicts with "+_e11);for(var _e12 of n.conflictsWith||[])this.extensionNameMap.has(_e12)&&_("LexicalBuilder: extension "+n.name+" conflicts with "+_e12),this.conflicts.set(_e12,n.name);for(var _e13 of n.dependencies||[]){var _t6=X(_e13);this.addEdge(n.name,_t6[0].name,_t6.slice(1)),this.addExtension(_t6);}for(var _ref5 of n.peerDependencies||[]){var _e14=_ref5[0];var _t7=_ref5[1];this.addEdge(n.name,_e14,_t7?[_t7]:[]);}}};_proto2.sortedExtensionReps=function sortedExtensionReps(){var _this5=this;if(this._sortedExtensionReps)return this._sortedExtensionReps;var e=[],_t8=function t(n,i){var o=n.state;if(F(o))return;var s=n.extension.name;var r;z(o)||_("LexicalBuilder: Circular dependency detected for Extension "+s+" from "+(i||"[unknown]")),z(r=o)||_("LexicalBuilder: Can not apply a temporary mark from state id "+String(r.id)+" (expected "+String(T)+" unmarked)"),o=Object.assign(r,{id:A}),n.state=o;var d=_this5.outgoingConfigEdges.get(s);if(d)for(var _e15 of d.keys()){var _n7=_this5.extensionNameMap.get(_e15);_n7&&_t8(_n7,s);}o=U(o),n.state=o,e.push(n);};for(var _e16 of this.extensionNameMap.values())z(_e16.state)&&_t8(_e16);for(var _t9 of e)for(var _ref7 of this.outgoingConfigEdges.get(_t9.extension.name)||[]){var _e17=_ref7[0];var _n8=_ref7[1];if(_n8.length>0){var _t0=this.extensionNameMap.get(_e17);if(_t0)for(var _e18 of _n8)_t0.configs.add(_e18);}}for(var _ref9 of this.roots){var _e19=_ref9[0];var _t1=_ref9.slice(1);if(_t1.length>0){var _n9=this.extensionNameMap.get(_e19.name);void 0===_n9&&_("LexicalBuilder: Expecting existing ExtensionRep for "+_e19.name);for(var _e20 of _t1)_n9.configs.add(_e20);}}return this._sortedExtensionReps=e,this._sortedExtensionReps;};_proto2.registerEditor=function registerEditor(e){var n=this.sortedExtensionReps(),i=new AbortController(),o=[function(){return i.abort();}],s=i.signal;for(var _t10 of n){var _n0=_t10.register(e,s);_n0&&o.push(_n0);}for(var _t11 of n){var _n1=_t11.afterRegistration(e);_n1&&o.push(_n1);}return require("LexicalUtils").mergeRegister.apply(require("LexicalUtils"),o);};_proto2.buildCreateEditorArgs=function buildCreateEditorArgs(){var e={},t=new Set(),n=new Map(),i=new Map(),o={},s={},r=this.sortedExtensionReps();for(var _d of r){var _r=_d.extension;if(void 0!==_r.onError&&(e.onError=_r.onError),void 0!==_r.disableEvents&&(e.disableEvents=_r.disableEvents),void 0!==_r.parentEditor&&(e.parentEditor=_r.parentEditor),void 0!==_r.editable&&(e.editable=_r.editable),void 0!==_r.namespace&&(e.namespace=_r.namespace),void 0!==_r.$initialEditorState&&(e.$initialEditorState=_r.$initialEditorState),_r.nodes)for(var _e21 of _r.nodes){if("function"!=typeof _e21){var _t12=n.get(_e21.replace);_t12&&_("LexicalBuilder: Extension "+_r.name+" can not register replacement for node "+_e21.replace.name+" because "+_t12.extension.name+" already did"),n.set(_e21.replace,_d);}t.add(_e21);}if(_r.html){if(_r.html["export"])for(var _ref1 of _r.html["export"].entries()){var _e22=_ref1[0];var _t13=_ref1[1];i.set(_e22,_t13);}_r.html["import"]&&Object.assign(o,_r.html["import"]);}_r.theme&&I(s,_r.theme);}Object.keys(s).length>0&&(e.theme=s),t.size&&(e.nodes=[].concat(t));var d=Object.keys(o).length>0,a=i.size>0;(d||a)&&(e.html={},d&&(e.html["import"]=o),a&&(e.html["export"]=i));for(var _t14 of r)_t14.init(e);return e.onError||(e.onError=J),e;};return ee;}();function te(e,t){var n=_ee.fromEditor(e).extensionNameMap.get(t);return n?n.getExtensionDependency():void 0;}var ne=new Set(),ie=_require_Lexical.defineExtension({build:function build(t,n,i){var o=i.getDependency(D).output,s=h({watchedNodeKeys:new Map()}),r=M(function(){},function(){return b(function(){var t=r.peek(),n=s.value.watchedNodeKeys;var i,d=!1;o.value.read(function(){if(require("Lexical").$getSelection())for(var _ref11 of n.entries()){var _o3=_ref11[0];var _s2=_ref11[1];{if(0===_s2.size){n["delete"](_o3);continue;}var _r2=require("Lexical").$getNodeByKey(_o3),_a=_r2&&_r2.isSelected()||!1;d=d||_a!==(!!t&&t.has(_o3)),_a&&(i=i||new Set(),i.add(_o3));}}}),!d&&i&&t&&i.size===t.size||(r.value=i);});});return{watchNodeKey:function watchNodeKey(e){var t=E(function(){return(r.value||ne).has(e);}),_s$peek=s.peek(),n=_s$peek.watchedNodeKeys;var i=n.get(e);var o=void 0!==i;return i=i||new Set(),i.add(t),o||(n.set(e,i),s.value={watchedNodeKeys:n}),t;}};},dependencies:[D],name:"@lexical/extension/NodeSelection"}),oe=_require_Lexical.createCommand("INSERT_HORIZONTAL_RULE_COMMAND");var _se=function(_e$DecoratorNode){function se(){return _e$DecoratorNode.apply(this,arguments)||this;}babelHelpers.inheritsLoose(se,_e$DecoratorNode);se.getType=function getType(){return"horizontalrule";};se.clone=function clone(e){return new se(e.__key);};se.importJSON=function importJSON(e){return de().updateFromJSON(e);};se.importDOM=function importDOM(){return{hr:function hr(){return{conversion:re,priority:0};}};};var _proto3=se.prototype;_proto3.exportDOM=function exportDOM(){return{element:document.createElement("hr")};};_proto3.createDOM=function createDOM(e){var n=document.createElement("hr");return require("LexicalUtils").addClassNamesToElement(n,e.theme.hr),n;};_proto3.getTextContent=function getTextContent(){return"\n";};_proto3.isInline=function isInline(){return!1;};_proto3.updateDOM=function updateDOM(){return!1;};return se;}(_require_Lexical.DecoratorNode);function re(){return{node:de()};}function de(){return require("Lexical").$create(_se);}function ae(e){return e instanceof _se;}var ce=_require_Lexical.defineExtension({dependencies:[D,ie],name:"@lexical/extension/HorizontalRule",nodes:[_se],register:function register(n,i,s){var _n$_config$theme$hrSe;var r=s.getDependency(ie).output.watchNodeKey,d=h({nodeSelections:new Map()}),a=(_n$_config$theme$hrSe=n._config.theme.hrSelected)!=null?_n$_config$theme$hrSe:"selected";return require("LexicalUtils").mergeRegister(n.registerCommand(require("Lexical").CLICK_COMMAND,function(t){if(require("Lexical").isDOMNode(t.target)){var _n10=require("Lexical").$getNodeFromDOMNode(t.target);if(ae(_n10))return function(t,n){if(n===void 0){n=!1;}var i=require("Lexical").$getSelection(),o=t.isSelected(),s=t.getKey();var r;n&&require("Lexical").$isNodeSelection(i)?r=i:(r=require("Lexical").$createNodeSelection(),require("Lexical").$setSelection(r)),o?r["delete"](s):r.add(s);}(_n10,t.shiftKey),!0;}return!1;},require("Lexical").COMMAND_PRIORITY_LOW),n.registerMutationListener(_se,function(e,t){o(function(){var t=!1;var _d$peek=d.peek(),i=_d$peek.nodeSelections;for(var _ref13 of e.entries()){var _o4=_ref13[0];var _s3=_ref13[1];if("destroyed"===_s3)i["delete"](_o4),t=!0;else{var _e23=i.get(_o4),_s4=n.getElementByKey(_o4);_e23?_e23.domNode.value=_s4:(t=!0,i.set(_o4,{domNode:h(_s4),selectedSignal:r(_o4)}));}}t&&(d.value={nodeSelections:i});});}),b(function(){var e=[];var _loop=function _loop(){var n=_ref15.domNode;var i=_ref15.selectedSignal;e.push(b(function(){var e=n.value;if(e){i.value?require("LexicalUtils").addClassNamesToElement(e,a):require("LexicalUtils").removeClassNamesFromElement(e,a);}}));};for(var _ref15 of d.value.nodeSelections.values()){_loop();}return require("LexicalUtils").mergeRegister.apply(require("LexicalUtils"),e);}));}});function le(n,i){var _require_Lexical;return require("LexicalUtils").mergeRegister(n.registerCommand((_require_Lexical=require("Lexical")).KEY_TAB_COMMAND,function(i){var o=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(o))return!1;i.preventDefault();var s=function(n){var i=n.getNodes();if(require("LexicalUtils").$filter(i,function(t){return require("Lexical").$isBlockElementNode(t)&&t.canIndent()?t:null;}).length>0)return!0;var o=n.anchor,s=n.focus,r=s.isBefore(o)?s:o,d=r.getNode(),a=require("LexicalUtils").$getNearestBlockElementAncestorOrThrow(d);if(a.canIndent()){var _t15=a.getKey();var _n11=require("Lexical").$createRangeSelection();if(_n11.anchor.set(_t15,0,"element"),_n11.focus.set(_t15,0,"element"),_n11=require("Lexical").$normalizeSelection__EXPERIMENTAL(_n11),_n11.anchor.is(r))return!0;}return!1;}(o)?i.shiftKey?require("Lexical").OUTDENT_CONTENT_COMMAND:require("Lexical").INDENT_CONTENT_COMMAND:require("Lexical").INSERT_TAB_COMMAND;return n.dispatchCommand(s,void 0);},_require_Lexical.COMMAND_PRIORITY_EDITOR),n.registerCommand(_require_Lexical.INDENT_CONTENT_COMMAND,function(){var n="number"==typeof i?i:i?i.peek():null;if(null==n)return!1;var o=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(o))return!1;var s=o.getNodes().map(function(e){return require("LexicalUtils").$getNearestBlockElementAncestorOrThrow(e).getIndent();});return Math.max.apply(Math,s)+1>=n;},_require_Lexical.COMMAND_PRIORITY_CRITICAL));}var ue=_require_Lexical.defineExtension({build:function build(e,t,n){return R(t);},config:_require_Lexical.safeCast({disabled:!1,maxIndent:null}),name:"@lexical/extension/TabIndentation",register:function register(e,t,n){var _n$getOutput2=n.getOutput(),i=_n$getOutput2.disabled,o=_n$getOutput2.maxIndent;return b(function(){if(!i.value)return le(e,o);});}});exports.configExtension=_require_Lexical.configExtension,exports.declarePeerDependency=_require_Lexical.declarePeerDependency,exports.defineExtension=_require_Lexical.defineExtension,exports.safeCast=_require_Lexical.safeCast,exports.shallowMergeConfig=_require_Lexical.shallowMergeConfig,exports.$createHorizontalRuleNode=de,exports.$isHorizontalRuleNode=ae,exports.AutoFocusExtension=w,exports.ClearEditorExtension=C,exports.EditorStateExtension=D,exports.HorizontalRuleExtension=ce,exports.HorizontalRuleNode=_se,exports.INSERT_HORIZONTAL_RULE_COMMAND=oe,exports.InitialStateExtension=Z,exports.LexicalBuilder=_ee,exports.NodeSelectionExtension=ie,exports.TabIndentationExtension=ue,exports.batch=o,exports.buildEditorFromExtensions=function(){for(var _len=arguments.length,e=new Array(_len),_key=0;_key<_len;_key++){e[_key]=arguments[_key];}return _ee.fromExtensions(e).buildEditor();},exports.computed=E,exports.effect=b,exports.getExtensionDependencyFromEditor=function(e,t){var n=_ee.fromEditor(e).getExtensionRep(t);return void 0===n&&_("getExtensionDependencyFromEditor: Extension "+t.name+" was not built when creating this editor"),n.getExtensionDependency();},exports.getKnownTypesAndNodes=function(e){var t=new Set(),n=new Set();for(var _i4 of(_e$nodes=e.nodes)!=null?_e$nodes:[]){var _e$nodes;var _e24="function"==typeof _i4?_i4:_i4.replace;t.add(_e24.getType()),n.add(_e24);}return{nodes:n,types:t};},exports.getPeerDependencyFromEditor=te,exports.getPeerDependencyFromEditorOrThrow=function(e,t){var n=te(e,t);return void 0===n&&_("getPeerDependencyFromEditorOrThrow: Editor was not built with Extension "+t),n;},exports.namedSignals=R,exports.registerClearEditor=O,exports.registerTabIndentation=le,exports.signal=h,exports.untracked=d,exports.watchedSignal=M;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<053a5941068424ecbe5402a89ba938cf>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalReactProviderExtension.prod",["Lexical"],(function $module_LexicalReactProviderExtension_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var e=require("Lexical").defineExtension({name:"@lexical/react/ReactProvider"});exports.ReactProviderExtension=e;}),null);